<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>My Awesome Python App</title>
</head>

<body>
  <h1>Python Output</h1>
  <br>
  <br>
  <p id="python-output"></p>
</body>
<script>

  const zmq = require("zeromq/v5-compat")
  const sudo = require('sudo-prompt');

  // Socket to talk to server
  const subscriber = zmq.socket('sub');
  subscriber.subscribe('world');

  subscriber.on('message', function (data) {
    console.log(data.toString())
    document.getElementById('python-output').innerHTML += 'Got cat!'
  });

  subscriber.connect("tcp://localhost:3002")

  
  const options = {
    name: 'nwjs',
    icns: '/Applications/nwjs.app/Contents/Resources/app.icns', // (optional)
  };
  sudo.exec('python3 ./publisher.py', options, () => {});
</script>

</html>